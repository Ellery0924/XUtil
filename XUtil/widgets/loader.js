!function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],a):a(jQuery)}(function(a){"use strict";var b={},c=window;return b.config={rootPath:"XUtil"},b.helpers={log:function(){var a=Array.prototype.slice.apply(arguments,[]);a.unshift("(XUtil) "),console.log.apply(console,a)},error:function(){if(arguments[0]){var a="(XUtil) "+arguments[0].toString();return new Error(a)}},shimConsole:function(){var a=function(){};window.console||(window.console={log:a,error:a,warn:a})},addShield:function(b,c,d){var e,f,g,h,i,j=d||1e4;return!b&&(b=document.body),b=a(b),e=b.offset().top,f=b.offset().left,g=b.outerWidth(),h=b.outerHeight(),b[0]===document.body&&(g="100%",h="100%"),a.isNumeric(c)||(c=.3),i=a("<div class='XUtil-pageShield'></div>"),i.css("position","absolute").css("z-index",j).css("background","#000").css("opacity",c).css("top",e).css("left",f).css("width",g).css("height",h).appendTo(document.body),i},removeShield:function(b){b?a(".XUtil-pageShield").remove():a(b).remove()},showErrorHint:function(b,c,d){var e=a(b.parentNode),f=a("<span class='errorHint'>* "+c+"</span>");return 0===e.find(".errorHint").length&&f.insertAfter(b),d&&f.addClass(d),f},clearErrorHint:function(b){b?a(a(b).parent()).find(".errorHint").remove():a(".errorHint").remove()},getUrlArgs:function(){var a,b,c,d,e={},f=window.location||f,g=f.search.substring(1),h=g.split("&");for(a=0;a<h.length;a++)b=h[a].indexOf("="),-1!==b&&(c=h[a].substring(0,b),d=decodeURI(h[a].substring(b+1)),e[c]=d);return e},toQuery:function(a){var b="?";for(var c in a)a.hasOwnProperty(c)&&(b+=c+"="+a[c]+"&");return b},getUrl:function(a,b){var c=helpers;return encodeURI(a+c.toQuery(b))},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:0&b&3|8;return c.toString(16)}).toUpperCase()},preloadImages:function(){var a;for(a=0;a<arguments.length;a++)(new Image).src=arguments[a].toString()},safeEvent:function(a,b,c,d){var e,f,g=!1;b=b||window,c&&50>c&&(window.console&&console.warn("safeEvent: 设置的间隔值过小!自动调整为50ms"),c=50),d&&c>d&&(window.console&&console.warn("safeEvent: 设置的endGap过小!自动调整为一倍gap"),d=c);var h=function(c,d){e=c,d&&a.apply(b,f)};return function(){var a,b=(new Date).valueOf();f=Array.prototype.slice.apply(arguments),g?b-e>c&&h(b,c):(g=!0,h(b,c),d&&(a=setInterval(function(){var b=(new Date).valueOf();b-e>=d&&(h(b,d),clearInterval(a),g=!1)},50)))}},loadImg:function(a,b){var c,d=-1!==navigator.userAgent.search("MSIE 6.0"),e=-1!==navigator.userAgent.search("MSIE 7.0"),f=a.getAttribute("real-src"),g="1"===a.getAttribute("loaded");a.getAttribute("img-index");(!g||d||e)&&(c=new Image,c.onload=function(){a.setAttribute("src",f),a.setAttribute("loaded","1"),b&&b(),c=null},c.src=f)},numToHan:function(a){var b=["","十","百","千","万"],c=["零","一","二","三","四","五","六","七","八","九"],d="零";a+="";for(var e=a.length,f="",g=e-1;g>=0;g--){var h=e-g-1,i=a.charAt(h),j=b[g];0===i&&(j=d),f+=0===i?d:c[i]+j}return f.replace(/零+$|^零+/,"").replace(/零+/g,d)}},b.helpers.shimConsole(),b.loader=function(){var a={root:"",mod:"async"},b=/^\s*(src|href|type|path|rel)\s*$/,c=/^\s*(?:http[s]?:\/\/|\/|\.\/|\.\.\/)/,d=/\/$/,e=document.head||document.getElementsByTagName("head")[0],f=function(b){for(var c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&(a[c]=b[c]);return this},g=function(a){(window.execScript||function(a){window.eval.call(window,a)})(a)},h=function(a,b,c){e.appendChild(a),a.type="text",a.text=c,a.src=b,a.type="text/javascript"},i=function(b){var e=a.root?a.root.replace(d,"")+"/":"",f=c.test(b);return f?b:e+b},j=function(a,c,d){for(var e in a)a.hasOwnProperty(e)&&!b.test(e)&&c.setAttribute(e,d&&"data-main"===e?i(a[e]):a[e])},k=function(a){var b=new XMLHttpRequest;if(b.open("GET",a,!1),b.send(),200!==b.status)throw new Error(a+":"+b.status+" "+b.statusText);return b.responseText},l=function(){for(var b,c,d,f,l=a.mod,m=-1===l.search("async"),n=-1!==l.search("async")&&-1===l.search("noteval"),o=-1!==l.search("async")&&-1!==l.search("noteval"),p=arguments[0],q=arguments[1]||function(){console.log("all loaded")},r=0,s=[],t=0;t<p.length;t++)b=p[t],b="object"==typeof b?b:{path:b},d=i(b.path),c=document.createElement("script"),m?(f=k(d),g(f),h(c,d,f),s.push(c),j(b,c,!0)):n?(c.src=d,r++,c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||0===--r&&q(s)},e.appendChild(c),s.push(c),j(b,c,!0)):o&&(r++,function(){var a=new XMLHttpRequest;a.src=d,a.file=b,a.open("GET",d),a.onreadystatechange=function(){var a;if(4==this.readyState){if(200!==this.status)throw new Error(this.src+":"+this.status+" "+this.responseText);s.push(this.responseText),a=document.createElement("script"),h(a,this.src,this.responseText),0===--r&&q(s),j(this.file,a,!0)}},a.send()}());"sync"===a.mod&&q(s)},m=function(a){a="object"==typeof a?a:{path:a};var b=document.createElement("link"),c=a.rel||"stylesheet";b.href=i(a.path),b.rel=c,j(a,b,!1),e.appendChild(b)};return{config:f,load:l,loadCss:m,globalEval:g}}(),c.XUtil=b,c.myUtil=b,b});