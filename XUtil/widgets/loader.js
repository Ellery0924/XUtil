!function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],a):a(jQuery)}(function(a){"use strict";var b={},c=window;return b.config={rootPath:"XUtil"},b.helpers={log:function(){var a=Array.prototype.slice.apply(arguments,[]);a.unshift("(XUtil) "),console.log.apply(console,a)},error:function(){if(arguments[0]){var a="(XUtil) "+arguments[0].toString();return new Error(a)}},shimConsole:function(){var a=function(){};window.console||(window.console={log:a,error:a,warn:a})},bindInput:function(c,d){var e=d||"data-bind",f=b.helpers.bindInput,g={};if(c){if("string"==typeof c)void 0===d?(g={},g[c]="",f.call(window,g)):(g={},g[c]=d,f.call(window,g));else for(var h in c)if(c.hasOwnProperty(h))for(var i=a(h),j=0;j<i.length;j++){var k=a(h).eq(j),l=(c[h]||(k.attr(e)?k.attr(e):"")).toString(),m=k.is("input[type=text]"),n=k.is("textarea"),o=k.is("input[type=hidden]"),p=k.is("input[type=checkbox]"),q=k.is("input[type=radio]"),r=k.is("select");m||n||o||r?(k.val(l),k.trigger("change")):(p||q)&&("true"===l.toString()?(k.prop("checked",!0),k.trigger("change")):"false"===l.toString()&&(k.prop("checked",!1),k.trigger("change")))}}else g["["+e+"]"]="",f.call(window,g)},addShield:function(b,c,d){var e,f,g,h,i,j=d||1e4;return!b&&(b=document.body),b=a(b),e=b.offset().top,f=b.offset().left,g=b.outerWidth(),h=b.outerHeight(),b[0]===document.body&&(g="100%",h="100%"),a.isNumeric(c)||(c=.3),i=a("<div class='XUtil-pageShield'></div>"),i.css("position","absolute").css("z-index",j).css("background","#000").css("opacity",c).css("top",e).css("left",f).css("width",g).css("height",h).appendTo(document.body),i},removeShield:function(b){b?a(".XUtil-pageShield").remove():a(b).remove()},showErrorHint:function(b,c,d){var e=a(b.parentNode),f=a("<span class='errorHint'>* "+c+"</span>");return 0===e.find(".errorHint").length&&f.insertAfter(b),d&&f.addClass(d),f},clearErrorHint:function(b){b?a(a(b).parent()).find(".errorHint").remove():a(".errorHint").remove()},getUrlArgs:function(){var a,b,c,d,e={},f=window.location||f,g=f.search.substring(1),h=g.split("&");for(a=0;a<h.length;a++)b=h[a].indexOf("="),-1!==b&&(c=h[a].substring(0,b),d=decodeURI(h[a].substring(b+1)),e[c]=d);return e},toQuery:function(a){var b="?";for(var c in a)a.hasOwnProperty(c)&&(b+=c+"="+a[c]+"&");return b},getUrl:function(a,b){var c=helpers;return encodeURI(a+c.toQuery(b))},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:0&b&3|8;return c.toString(16)}).toUpperCase()},preloadImages:function(){var a;for(a=0;a<arguments.length;a++)(new Image).src=arguments[a].toString()}},b.helpers.shimConsole(),b.loader=function(){var a={root:"",mod:"async"},b=function(b){for(var c in b)b.hasOwnProperty(c)&&a.hasOwnProperty(c)&&(a[c]=b[c])},c=function(a){(window.execScript||function(a){window.eval.call(window,a)})(a)},d=function(){for(var b,d,e,f,g,h,i,j,k,l,m=a.mod,n=-1===m.search("async"),o=-1!==m.search("async")&&-1===m.search("noteval"),p=-1!==m.search("async")&&-1!==m.search("noteval"),q=/\.js(\?.*)?$/,r=/(?:(\.css)|(\.htm[l]?))(\?.*)?$/,s=/^\s*(src|href|type|path|rel)\s*$/,t=/^\s*(?:http:\/\/|\/|\.\/|\.\.\/)/,u=/\/$/,v=arguments[0],w=arguments[1]||function(){console.log("all loaded")},x=a.root?a.root.replace(u,"")+"/":"",y=0,z=[],A=document.head||document.getElementsByTagName("head")[0],B=function(a,b,c){A.appendChild(a),a.type="text",a.text=c,a.src=b,a.type="text/javascript"},C=function(a){var b=t.test(a);return b?a:x+a},D=function(a,b,c){for(var d in a)a.hasOwnProperty(d)&&!s.test(d)&&b.setAttribute(d,c&&"data-main"===d?C(a[d]):a[d])},E=function(a){var b=new XMLHttpRequest;if(b.open("GET",a,!1),b.send(),200!==b.status)throw new Error(a+":"+b.status+" "+b.statusText);return b.responseText},F=0;F<v.length;F++)if(b=v[F],b="object"==typeof b?b:{path:b},h=C(b.path),d=q.test(b.path),e=r.exec(b.path)?!!r.exec(b.path)[1]:!1,f=r.exec(b.path)?!!r.exec(b.path)[2]:!1,d)g=document.createElement("script"),n?(i=E(h),c(i),B(g,h,i),z.push(g),D(b,g,!0)):o?(g.src=h,y++,g.onload=g.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||0===--y&&w(z)},A.appendChild(g),z.push(g),D(b,g,!0)):p&&(y++,function(){var a=new XMLHttpRequest;a.src=h,a.file=b,a.open("GET",h),a.onreadystatechange=function(){if(4==this.readyState){if(200!==this.status)throw new Error(this.src+":"+this.status+" "+this.responseText);z.push(this.responseText);var a=document.createElement("script");B(a,this.src,this.responseText),0===--y&&w(z),D(this.file,a,!0)}},a.send(null)}());else if(e)j=document.createElement("link"),k=C(b.path),l=b.rel||"stylesheet",j.href=k,j.rel=l,D(b,j,!1),A.appendChild(j);else if(f)return E(h);"sync"===a.mod&&w(z)};return{config:b,load:d,globalEval:c}}(),c.XUtil=b,c.myUtil=b,b});