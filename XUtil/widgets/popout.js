!function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],a):a(jQuery)}(function(a){"use strict";var b={},c=window;return b.config={rootPath:"vendor/XUtil"},b.helpers={log:function(){var a=Array.prototype.slice.apply(arguments,[]);a.unshift("(XUtil) "),console.log.apply(console,a)},error:function(){if(arguments[0]){var a="(XUtil) "+arguments[0].toString();return new Error(a)}},addShield:function(b,c,d){var e,f,g,h,i,j=d||1;return!b&&(b=document.body),b=a(b),e=b.offset().top,f=b.offset().left,g=b.outerWidth(),h=b.outerHeight(),a.isNumeric(c)||(c=.5),i=a("<div class='xTable-pageShield'></div>"),i.css("position","absolute").css("z-index",j).css("background","#ebe9e9").css("opacity",c).css("top",e).css("left",f).css("width",g).css("height",h).appendTo(document.body),i},removeShield:function(b){b?a(b).remove():a(".xTable-pageShield").remove()},showErrorHint:function(b,c,d){var e=a(b.parentNode),f=a("<div class='XUtil-errorHint'>* "+c+"</div>");0===e.find(".errorHint").length&&f.insertAfter(b),d&&f.addClass(d)},clearErrorHint:function(b){!b&&a(".errorHint").remove(),b&&a(b.parentNode).find(".errorHint").remove()},getUrlArgs:function(){var a,b,c,d,e={},f=location.search.substring(1),g=f.split("&");for(a=0;a<g.length;a++)b=g[a].indexOf("="),-1!==b&&(c=g[a].substring(0,b),d=decodeURI(g[a].substring(b+1)),e[c]=d);return e},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:0&b&3|8;return c.toString(16)}).toUpperCase()},preloadImages:function(){var a;for(a=0;a<arguments.length;a++)(new Image).src=arguments[a].toString()}},b.XPopout=function(c){var d=b.helpers.error,e={},f=c.renderTo,g=c.id||"XPopout-"+b.helpers.guid(),h=c.width||"auto",i=c.height||"auto",j=c.animation||"default",k=c.position||"lowerLeft",l=a(f)[0],m=!1,n=c.className||"",o=c.content||"",p=c.triggerBy||"click",q=c.offset||{top:0,left:0},r=c.onOpen||function(){},s=c.onClose||function(){},t=a("<div class='xPopout' id='"+g+"'></div>");if(void 0!==c.autoOpen&&c.autoOpen===!0&&(m=!0),void 0===l)throw d("XPopout: 配置参数有误，请检查option.renderTo属性");return"slide"!==j||"upperLeft"!==k&&"upperRight"!==k||(j="default"),t.append(o).addClass(n),t.appendTo(document.body),t.css("position","absolute").css("height",i||"auto").css("width",h||"auto").css("display","none").css("background-color","#fff").css("padding","10px"),e.bindDom=l,e.popout=t[0],e.setPosition=function(b){var c=a(l).offset(),d=l.offsetWidth,f=l.offsetHeight,g={top:c.top+f+Number(q.top),left:c.left+q.left},h={top:c.top+f+Number(q.top),left:c.left+d-t.outerWidth()+Number(q.left)},i={top:c.top-t.outerHeight()+Number(q.top),left:c.left+Number(q.left)},j={top:c.top-t.outerHeight()+Number(q.top),left:c.left+d-t.outerWidth()+Number(q.left)},k=function(a){t.css("top",a.top),t.css("left",a.left)};return"lowerLeft"===b?(k(g),e.position=b):"lowerRight"===b?(k(h),e.position=b):"upperLeft"===b?(k(i),e.position=b):"upperRight"===b?(k(j),e.position=b):(k(g),e.position="lowerLeft"),e},e.open=function(){return"closed"===e.status&&(r(t[0]),e.setPosition(k),"fade"===j?t.fadeIn("fast"):"slide"!==j||"lowerLeft"!==k&&"lowerRight"!==k?t.show():t.slideDown("fast"),e.status="opened"),e},e.close=function(){return"opened"===e.status&&(s(t[0]),"fade"===j?t.fadeOut("fast"):"slide"!==j||"lowerLeft"!==k&&"lowerRight"!==k?t.hide():t.slideUp("fast"),e.status="closed"),e},e.setPosition(k),m===!1?e.status="closed":(e.status="opened",e.open()),function(){var b=!1,c=function(a,c){var d;a.stopPropagation(),d=a.target,0!==t.children().length&&d!==t[0]&&d!==l&&void 0===t.find(d)[0]||0===t.children().length&&d!==l&&d!==t[0]?(b=!1,"hover"!==p||c?e.close():setTimeout(function(){b||"opened"!==e.status||e.close()},400)):b=!0};"hover"===p?(a(l).on("mouseenter.XPopoutOpen",function(){b=!0,setTimeout(function(){b&&e.open()},350)}),a(document).on("mouseover.XPopoutClose",function(a){c.call(this,a)}),a(document).on("click.XPopoutClose",function(a){c.call(this,a,!0)})):(a(l).on("click.XPopoutOpen",function(){e.open()}),a(document).on("click.XPopoutClose",function(a){c.call(this,a)}))}(),e},c.XUtil=b,c.myUtil=b,b});